<div class="mb-4">
  <h1 class="mb-0"><%= t("admin.accounts.show.title", id: @account.id) %></h1>
  <%= render(Admin::ShowActionsComponent.new(
    back_path: admin_accounts_path,
    actions: [
      { path: admin_user_path(@account.user), label: t("admin.accounts.columns.user") },
      { path: account_path(@account), label: t("admin.shared.view_public_page"), target: "_blank", rel: "noopener" },
    ]
  )) %>
</div>

<%= render(Admin::DetailsTableComponent.new(sections: [
  {
    title: t("admin.shared.details"),
    rows: [
      [t("admin.shared.id"), @account.id, { copyable: true }],
      [t("admin.accounts.columns.uuid"), content_tag(:code, @account.uuid), { copyable: @account.uuid }],
      [t("admin.accounts.columns.user"), link_to(@account.user.email, admin_user_path(@account.user)), { copyable: @account.user.email }],
      [t("admin.shared.created"), l(@account.created_at), { copyable: true }],
      [t("admin.shared.updated"), l(@account.updated_at), { copyable: true }],
    ],
  },
])) %>

<%= render(Admin::DetailsTableComponent.new(sections: [
  {
    title: t("admin.accounts.show.verified_servers"),
    rows: @account.verified_servers.any? ? @account.verified_servers.map { |server| [link_to(server.name, admin_server_path(server))] } : [[-> { content_tag(:span, t("admin.shared.none"), class: "text-body-secondary") }]],
  },
])) %>

<%= render(Admin::DetailsTableComponent.new(sections: [
  {
    title: t("admin.accounts.show.stats"),
    rows: [
      [t("admin.accounts.show.server_accounts"), link_to(@account.server_accounts.count, admin_server_accounts_path(account_id: @account.id))],
      [t("admin.accounts.show.server_votes"), link_to(@account.server_votes.count, admin_server_votes_path(account_id: @account.id))],
      [t("admin.accounts.show.servers_all"), @account.servers.count],
    ],
  },
])) %>
