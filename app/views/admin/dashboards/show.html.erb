<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="mb-0"><%= t("admin.dashboard.title") %></h1>
</div>

<div class="row g-3 mb-4">
  <div class="col-md-6 col-lg-3">
    <%= link_to admin_users_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.users") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:users_count] %></p>
        <% if @stats[:users_locked_count] > 0 %>
          <p class="card-text text-danger small mb-0 mt-1"><%= t("admin.dashboard.locked") %>: <%= @stats[:users_locked_count] %></p>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_admin_users_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.admin_users") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:admin_users_count] %></p>
        <% if @stats[:admin_users_locked_count] > 0 %>
          <p class="card-text text-danger small mb-0 mt-1"><%= t("admin.dashboard.locked") %>: <%= @stats[:admin_users_locked_count] %></p>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_accounts_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.accounts") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:accounts_count] %></p>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_admin_accounts_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.admin_accounts") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:admin_accounts_count] %></p>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_games_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.games") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:games_count] %></p>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_feature_flags_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.feature_flags") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:feature_flags_count] %></p>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_webhook_configs_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.webhook_configs") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:webhook_configs_count] %></p>
        <p class="card-text text-body-secondary small mb-0 mt-1"><%= t("admin.dashboard.webhook_events") %>: <%= @stats[:webhook_events_count] %></p>
      </div>
    <% end %>
  </div>

  <div class="col-md-6 col-lg-3">
    <%= link_to admin_servers_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
      <div class="card-body">
        <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.servers") %></h5>
        <p class="card-text mb-0 fs-3 fw-semibold"><%= @stats[:servers_count] %></p>
        <p class="card-text text-body-secondary small mb-0 mt-1">
          <%= t("admin.dashboard.verified") %>: <%= @stats[:servers_verified_count] %>
          <% if @stats[:servers_archived_count] > 0 %>
            | <%= t("admin.dashboard.archived") %>: <%= @stats[:servers_archived_count] %>
          <% end %>
          <% if @stats[:servers_marked_for_deletion_count] > 0 %>
            | <span class="text-danger"><%= t("admin.dashboard.marked_for_deletion") %>: <%= @stats[:servers_marked_for_deletion_count] %></span>
          <% end %>
        </p>
      </div>
    <% end %>
  </div>

  <% if admin_jobs_access? %>
    <div class="col-md-6 col-lg-3">
      <%= link_to admin_mission_control_jobs_path, class: "card text-decoration-none text-dark h-100 border-0 shadow-sm admin-dashboard-card" do %>
        <div class="card-body">
          <h5 class="card-title text-body-secondary small text-uppercase mb-2"><%= t("admin.dashboard.jobs") %></h5>
          <p class="card-text mb-0 fs-3 fw-semibold"><%= t("admin.dashboard.jobs_solidqueue") %></p>
          <p class="card-text text-body-secondary small mb-0 mt-1"><%= t("admin.dashboard.jobs_view_queue") %></p>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
